import{z as y,k as d,B as m}from"./chunks/floating-ui.dom.browser.min.5c826213.js";import{d as h,p as g,c as D,o as f,R as A}from"./chunks/framework.9c4a9a38.js";const C={target:"body",api:"qcc_openapi",queryDelay:500},F=a=>typeof a=="string";function _(a,t=0,{start:e=!0,middle:s=!0,once:l=!1}={}){let o=e,p=0,c,n=!1;function r(...u){if(n)return;const i=Date.now()-p;p=Date.now(),e&&s&&i>=t&&(o=!0),o?(o=!1,a.apply(this,u),l&&r.cancel()):(s&&i<t||!s)&&(clearTimeout(c),c=setTimeout(()=>{p=Date.now(),a.apply(this,u),l&&r.cancel()},s?t-i:t))}return r.cancel=()=>{clearTimeout(c),n=!0},r}function v(a,t=0,{start:e=!1,middle:s=!1,once:l=!1}={}){return _(a,t,{start:e,middle:s,once:l})}const x=async(a,t)=>{switch(a){case"qcc_openapi":return await b(t);default:return[]}},b=async a=>{if(console.log(a),a.length<2)return[];const e=await(await fetch(`https://c.qcc.com/embed/api/company/getCompanyName?searchKey=${a}`,{method:"GET",mode:"cors"})).json();return e.status!=="200"?[]:e.result.map(s=>({name:s.companyName,id:s.keyNo}))},E=(a,t)=>{let e=!1;document.addEventListener("click",s=>{!a.contains(s.target)&&!e&&t(),e=a.contains(s.target)},!0)};class q{constructor(t={}){this.options=Object.assign({},C,t),F(this.options.target)?this.target=document.querySelector(this.options.target):this.target=this.options.target,this.render()}async create(){}render(){var l;if(!this.target)return;const t=['<div class="company-autocomplete">','<div class="company-autocomplete__input">','<input type="text" />',"</div>","</div>"];this.target.innerHTML=t.join("");const e=document.createElement("div");e.classList.add("suggestion-popper"),e.innerHTML="",document.body.appendChild(e);const s=this.target;y(s,e,()=>{d(s,e,{middleware:[m({apply({rects:o}){Object.assign(e.style,{width:`${o.reference.width}px`})}})]}).then(({x:o,y:p})=>{Object.assign(e.style,{left:`${o}px`,top:`${p}px`})})}),s==null||s.addEventListener("input",v(o=>{const p=o.target.value;x(this.options.api,p).then(c=>{if(c.length===0){e.innerHTML="";return}const n=['<div class="suggestion-popper__body">'];c.forEach(r=>{n.push('<div class="suggestion">'),n.push('<div class="suggestion__avatar"></div>'),n.push(`<div class="suggestion__label">${r.name}</div>`),n.push('<div class="suggestion__extra"></div>'),n.push("</div>")}),n.push("</div>"),n.push('<div class="suggestion-popper__footer">'),n.push("</div>"),e.innerHTML=n.join("")})},this.options.queryDelay)),(l=s.querySelector("input"))==null||l.addEventListener("click",()=>{e.classList.add("suggestion-popper--activated")}),E(e,()=>{e.classList.remove("suggestion-popper--activated")})}}const L=A(`<h1 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example&quot;">​</a></h1><h2 id="companyautocomplete" tabindex="-1">CompanyAutocomplete <a class="header-anchor" href="#companyautocomplete" aria-label="Permalink to &quot;CompanyAutocomplete&quot;">​</a></h2><div id="example_ca"></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">CompanyAutocomplete</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">company-autocomplete</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> companyAutocomplete </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CompanyAutocomplete</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#example</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">companyAutocomplete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#A6ACCD;">()</span></span></code></pre></div>`,4),j=[L],O=JSON.parse('{"title":"Example","description":"","frontmatter":{"layout":"doc"},"headers":[],"relativePath":"guide/example.md"}'),k={name:"guide/example.md"},S=h({...k,setup(a){let t=null;return g(()=>{t=new q({target:"#example_ca"}),t.create()}),(e,s)=>(f(),D("div",null,j))}});export{O as __pageData,S as default};
